<section id="contact" class="py-24 px-6 bg-[#0d1117]">
  <div class="max-w-3xl mx-auto">

    <!-- Section header -->
    <div scrollAnimate class="text-center mb-12">
      <p class="text-[#00d4ff] text-sm font-medium tracking-[0.3em] uppercase mb-3">Let&apos;s work together</p>
      <h2 class="text-4xl sm:text-5xl font-bold section-title">Get In Touch</h2>
      <p class="text-[#8b949e] mt-4 max-w-xl mx-auto">
        Open to new opportunities, interesting projects, or just a good conversation
        about Angular architecture. Drop me a message.
      </p>
    </div>

    <!-- Contact card -->
    <div scrollAnimate class="p-8 rounded-2xl bg-[#161b22] border border-[#30363d]">

      @if ((status$ | async) === 'success') {
        <!-- Success state -->
        <div class="text-center py-8">
          <div class="w-16 h-16 mx-auto rounded-full bg-[#00d4ff]/10 flex items-center justify-center mb-4">
            <svg class="w-8 h-8 text-[#00d4ff]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-[#e6edf3] mb-2">Message sent!</h3>
          <p class="text-[#8b949e] mb-6">Your email client has been opened. I&apos;ll get back to you soon.</p>
          <button
            (click)="reset()"
            class="px-6 py-2.5 rounded-lg text-sm font-semibold text-[#00d4ff] border border-[#00d4ff] hover:bg-[#00d4ff]/10 transition-colors"
          >
            Send another
          </button>
        </div>

      } @else {
        <!-- Form -->
        <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5" novalidate>

          <!-- Name -->
          <div>
            <label class="block text-sm font-medium text-[#e6edf3] mb-1.5" for="name">Name</label>
            <input
              id="name"
              type="text"
              formControlName="name"
              placeholder="Your name"
              [ngClass]="{ 'border-red-500/60 focus:ring-red-500/30': isInvalid('name') }"
              class="w-full px-4 py-3 rounded-lg bg-[#0d1117] border border-[#30363d] text-[#e6edf3] placeholder-[#8b949e] text-sm focus:outline-none focus:ring-2 focus:ring-[#00d4ff]/30 focus:border-[#00d4ff] transition-colors"
            >
            @if (isInvalid('name')) {
              <p class="mt-1 text-xs text-red-400">Please enter your name (min 2 characters).</p>
            }
          </div>

          <!-- Email -->
          <div>
            <label class="block text-sm font-medium text-[#e6edf3] mb-1.5" for="email">Email</label>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="your@email.com"
              [ngClass]="{ 'border-red-500/60 focus:ring-red-500/30': isInvalid('email') }"
              class="w-full px-4 py-3 rounded-lg bg-[#0d1117] border border-[#30363d] text-[#e6edf3] placeholder-[#8b949e] text-sm focus:outline-none focus:ring-2 focus:ring-[#00d4ff]/30 focus:border-[#00d4ff] transition-colors"
            >
            @if (isInvalid('email')) {
              <p class="mt-1 text-xs text-red-400">Please enter a valid email address.</p>
            }
          </div>

          <!-- Message -->
          <div>
            <label class="block text-sm font-medium text-[#e6edf3] mb-1.5" for="message">Message</label>
            <textarea
              id="message"
              formControlName="message"
              rows="5"
              placeholder="Tell me about your project or opportunity..."
              [ngClass]="{ 'border-red-500/60 focus:ring-red-500/30': isInvalid('message') }"
              class="w-full px-4 py-3 rounded-lg bg-[#0d1117] border border-[#30363d] text-[#e6edf3] placeholder-[#8b949e] text-sm focus:outline-none focus:ring-2 focus:ring-[#00d4ff]/30 focus:border-[#00d4ff] transition-colors resize-none"
            ></textarea>
            @if (isInvalid('message')) {
              <p class="mt-1 text-xs text-red-400">Message must be at least 10 characters.</p>
            }
          </div>

          <!-- Submit -->
          <button
            type="submit"
            [disabled]="(status$ | async) === 'submitting'"
            class="w-full py-3.5 rounded-lg font-semibold text-[#0d1117] bg-[#00d4ff] hover:bg-[#00b8d9] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-[rgba(0,212,255,0.2)]"
          >
            @if ((status$ | async) === 'submitting') {
              <span class="flex items-center justify-center gap-2">
                <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"/>
                </svg>
                Sending...
              </span>
            } @else {
              Send Message
            }
          </button>

          @if ((status$ | async) === 'error') {
            <p class="text-sm text-red-400 text-center">{{ error$ | async }}</p>
          }

        </form>
      }
    </div>

    <!-- Social links footer -->
    <div scrollAnimate class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-6 text-[#8b949e]">
      <a
        href="https://github.com/IMMihaylov"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 hover:text-[#00d4ff] transition-colors text-sm"
      >
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 .5C5.65.5.5 5.65.5 12c0 5.1 3.29 9.41 7.86 10.94.58.1.79-.25.79-.55v-2.14c-3.2.7-3.87-1.54-3.87-1.54-.52-1.33-1.28-1.69-1.28-1.69-1.05-.71.08-.7.08-.7 1.16.08 1.77 1.2 1.77 1.2 1.03 1.76 2.7 1.25 3.36.96.1-.75.4-1.25.73-1.54-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.29 1.19-3.09-.12-.29-.52-1.46.11-3.05 0 0 .97-.31 3.18 1.19a11.04 11.04 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.59.23 2.76.11 3.05.74.8 1.19 1.83 1.19 3.09 0 4.42-2.69 5.39-5.25 5.68.41.36.78 1.06.78 2.13v3.17c0 .3.21.66.8.55C20.21 21.4 23.5 17.1 23.5 12 23.5 5.65 18.35.5 12 .5z"/>
        </svg>
        IMMihaylov
      </a>
      <span class="hidden sm:block text-[#30363d]">路</span>
      <a
        href="https://linkedin.com/in/ivan-mihaylov"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 hover:text-[#00d4ff] transition-colors text-sm"
      >
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M20.45 20.45h-3.55v-5.57c0-1.33-.03-3.04-1.85-3.04-1.86 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zm1.78 13.02H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.73v20.54C0 23.23.79 24 1.77 24h20.45c.98 0 1.78-.77 1.78-1.73V1.73C24 .77 23.2 0 22.22 0z"/>
        </svg>
        LinkedIn
      </a>
    </div>

    <!-- Footer note -->
    <p class="text-center text-xs text-[#8b949e]/50 mt-8">
      Built with Angular 17 路 NgRx 路 RxJS 路 Tailwind CSS
    </p>

  </div>
</section>
